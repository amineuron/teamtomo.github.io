
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Simple subtomogram averaging</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Extracting particles" href="extract-from-catalogue.html" />
    <link rel="prev" title="Dynamo" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.svg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  teamtomo.org
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../teamtomo/about.html">
   About the project
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../teamtomo/contributing/index.html">
   Contributing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../teamtomo/contributing/git_guide.html">
     A short guide to git(hub)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../teamtomo/contributing/screen-capture.html">
     Screen capture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../teamtomo/contributing/wishlist.html">
     Wishlist
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Theory
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../theory/cryo-et/index.html">
   Cryo-electron tomography
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/cryo-et/tilt-schemes.html">
     Tilt-schemes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/cryo-et/tilt-series-alignment.html">
     Tilt-series alignment
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../theory/subtomogram-averaging/index.html">
   Subtomogram averaging
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/subtomogram-averaging/preprocessing/index.html">
     Preprocessing
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/index.html">
     Particle picking
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/template-matching.html">
       Template matching
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/geometrical-supports.html">
       Using a supporting geometry
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/subboxing.html">
       Subboxing
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/subtomogram-averaging/refinement/index.html">
     Refinement
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../theory/image-processing/introduction.html">
   Image processing
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Walkthroughs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/introduction.html">
   EMPIAR-10164 (HIV VLPs)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/preparation.html">
     Download the data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/2d-preprocessing.html">
     2D preprocessing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/tilt-series-to-tomograms.html">
     Tilt-series to tomograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/geometrical-picking.html">
     Geometrical particle picking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/ini-model.html">
     Initial model generation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/particle-picking.html">
     Find particles on every VLP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/relion.html">
     Particle pose optimisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/m.html">
     Multi-particle refinement
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  mini-tutorials
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Dynamo
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Simple subtomogram averaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extract-from-catalogue.html">
     Extracting particles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dipoles-to-vesicles.html">
     Spherical vesicle picking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dtmslice-controls.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       dtmslice
      </span>
     </code>
     viewing controls
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="interactive-mask-creation.html">
     Interactive mask creation
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  computing
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../computing/python/index.html">
   Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../computing/python/getting-started.html">
     Getting started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../computing/python/virtual-environments.html">
     Virtual environments
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../computing/python/useful-packages/useful-packages.html">
     Useful packages
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/dynamotable.html">
       dynamotable
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/emfile.html">
       emfile
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/eulerangles.html">
       eulerangles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/mrcfile.html">
       mrcfile
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/napari.html">
       napari
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/starfile.html">
       starfile
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../computing/matlab/index.html">
   MATLAB
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../computing/matlab/add-to-path.html">
     Adding scripts/functions to your PATH in
     <code class="docutils literal notranslate">
      <span class="pre">
       MATLAB
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../resources/literature/index.html">
   Literature
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/literature/protocols/protocols.html">
     Protocols
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/literature/reviews/reviews.html">
     Reviews
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/reviews/schur19.html">
       Schur - 2019
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/reviews/lucic08.html">
       Lučić - 2008
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/reviews/lucic05.html">
       Lučić - 2005
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/literature/book-chapters/book-chapters.html">
     Book chapters
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/book-chapters/subtomo-leigh19.html">
       Subtomogram averaging from cryo-electron tomograms - Leigh 2019
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/book-chapters/cryo-et-sta-wan16.html">
       Cryo-Electron Tomography and Subtomogram Averaging - Wan 2016
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/book-chapters/fiducial-alignments-mastronarde07.html">
       Fiducial Marker and Hybrid Alignment Methods for Single- and Double-axis Tomography - Mastronarde 2007
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../resources/cryoet-software/cryoet-software.html">
   Software packages
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/appion-protomo/appion-protomo.html">
     Appion-Protomo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/cryolo/cryolo.html">
     crYOLO
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/cryoet-software/dynamo/dynamo.html">
     Dynamo
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/starters-guide.html">
       Starters guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/advanced-starters-guide.html">
       Advanced starters guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/tilt-series-alignment.html">
       Tilt-series alignment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/PCA.html">
       PCA based classification
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/cryoet-software/eman2/eman2.html">
     EMAN2
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/eman2/full-tutorial.html">
       Complete tutorial
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/eman2/segmentation.html">
       Neural-net based segmentation
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/cryoet-software/emclarity/emclarity.html">
     emClarity
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/emclarity/tutorial.html">
       tutorial
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/cryoet-software/imod/imod.html">
     IMOD
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
    <label for="toctree-checkbox-17">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/tomo-guide.html">
       Tomography guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/etomo-fiducial-tuto.html">
       Etomo with fiducials
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/etomo-patch-track-tuto.html">
       Patch tracking in Etomo
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/batch-alignment.html">
       Batch tilt-series alignment
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/cryoet-software/m/m.html">
     M
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/m/user-guide.html">
       Warp/M
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/novactf/novactf.html">
     NovaCTF
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/novasta/novasta.html">
     NovaSTA
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/peet/peet.html">
     PEET
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/pytom/pytom.html">
     PyTom
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/relion/relion.html">
     RELION
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/stopgap/stopgap.html">
     STOPGAP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/topaz_denoise_3d/topaz_denoise_3d.html">
     Topaz Denoise 3D
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../resources/cryoet-software/warp/warp.html">
     Warp
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/warp/user-guide.html">
       Warp/M
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/teamtomo/teamtomo.github.io"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/teamtomo/teamtomo.github.io/issues/new?title=Issue%20on%20page%20%2Fmini-tutorials/dynamo/simple-alignment.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/teamtomo/teamtomo.github.io/edit/master/./mini-tutorials/dynamo/simple-alignment.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/mini-tutorials/dynamo/simple-alignment.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   Setup
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-the-dcp-gui">
     Open the
     <code class="docutils literal notranslate">
      <span class="pre">
       dcp
      </span>
     </code>
     gui
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#name-the-project">
     Name the project
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#input-files">
     Input files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#input-your-particles">
       Input your particles
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alignment-parameters">
     Alignment parameters
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#computational-parameters">
     Computational parameters
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#hardware">
       Hardware
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#optional-specifying-gpus">
         (optional) specifying GPUs
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#mpi">
       MPI
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#parallelized-averaging-step">
       Parallelized averaging step
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unfolding-the-project">
   Unfolding the project
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-project">
   Running the project
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-at-the-results">
   Looking at the results
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Simple subtomogram averaging</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   Setup
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-the-dcp-gui">
     Open the
     <code class="docutils literal notranslate">
      <span class="pre">
       dcp
      </span>
     </code>
     gui
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#name-the-project">
     Name the project
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#input-files">
     Input files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#input-your-particles">
       Input your particles
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alignment-parameters">
     Alignment parameters
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#computational-parameters">
     Computational parameters
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#hardware">
       Hardware
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#optional-specifying-gpus">
         (optional) specifying GPUs
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#mpi">
       MPI
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#parallelized-averaging-step">
       Parallelized averaging step
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unfolding-the-project">
   Unfolding the project
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-project">
   Running the project
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-at-the-results">
   Looking at the results
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="simple-subtomogram-averaging">
<h1>Simple subtomogram averaging<a class="headerlink" href="#simple-subtomogram-averaging" title="Permalink to this headline">#</a></h1>
<p>This mini-tutorial will show you how to quickly set up and run a subtomogram averaging experiment in <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code>.
In <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> lingo, this is referred to as an ‘alignment project’.</p>
<p>We will set up our alignment project from the ‘Dynamo current project’ GUI (<code class="docutils literal notranslate"><span class="pre">dcp</span></code>).</p>
<p>Alignment projects can also be set up from the
<a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Advanced_starters_guide#Project_to_find_membrane_orientations"><code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> shell</a>
or the
<a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Scripted_creation_of_a_project_in_the_Linux_command_line">Linux command line</a>.
You can also set up your project locally, then
<a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Tarring_projects">bundle it up and send it to a remote machine/cluster</a>.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>a set of particles in a <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Generic_data_containers">data container</a></p></li>
<li><p>(optional) metadata for each particle in a <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Table">table file</a></p></li>
<li><p>(optional) a reference volume with the same dimensions as your particles</p></li>
<li><p>(optional) a mask around your region of interest</p></li>
</ul>
</section>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h2>
<p>First, we need to open <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code>, either activating it in <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> or using the standalone version.</p>
<section id="open-the-dcp-gui">
<h3>Open the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> gui<a class="headerlink" href="#open-the-dcp-gui" title="Permalink to this headline">#</a></h3>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are using the standalone version of <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code>, you can run <code class="docutils literal notranslate"><span class="pre">dcp</span></code> from the Linux command line directly with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynamo</span> <span class="o">&gt;&gt;</span> <span class="n">dcp</span>
</pre></div>
</div>
</div>
</aside>
<p>The <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI is the main tool in <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> for interactively designing subtomogram averaging experiments.</p>
<p>To open the GUI simply run <code class="docutils literal notranslate"><span class="pre">dcp</span></code> from your <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> shell.</p>
</section>
<section id="name-the-project">
<h3>Name the project<a class="headerlink" href="#name-the-project" title="Permalink to this headline">#</a></h3>
<p>Click in the box to the right of <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">name</span></code> and write a name for your project.
Choose something descriptive, it might help you remember what you did in a few months time!</p>
<p>Hit <code class="docutils literal notranslate"><span class="pre">Enter</span></code>. In the dialogue box which pops up, confirm that you would like to create a new project by clicking <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">project</span></code>.</p>
<p><img alt="name your project image" src="../../_images/name-project.gif" /></p>
</section>
<section id="input-files">
<h3>Input files<a class="headerlink" href="#input-files" title="Permalink to this headline">#</a></h3>
<section id="input-your-particles">
<h4>Input your particles<a class="headerlink" href="#input-your-particles" title="Permalink to this headline">#</a></h4>
<p>Click on the <code class="docutils literal notranslate"><span class="pre">particles</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, enter the name of your data file.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To keep your workspace tidy, close the dialogue boxes once you are finished with them. They tend to build up quickly!</p>
</div>
</aside>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="2b09d345-b2ad-4432-9e6e-f140a8215b45" name="30dec81c-d03f-4bed-ba88-2852aef85125" type="radio">
</input><label class="sd-tab-label" for="2b09d345-b2ad-4432-9e6e-f140a8215b45">
particles</label><div class="sd-tab-content docutils">
<p class="sd-card-text">Click on the <code class="docutils literal notranslate"><span class="pre">particles</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row.
In the dialogue box which pops up, enter the name of your data file.</p>
<p class="sd-card-text"><img alt="select particles image" src="../../_images/select-particles.gif" /></p>
</div>
<input id="c8a60ca1-b914-4e1e-ad14-0b5dbbc1103c" name="30dec81c-d03f-4bed-ba88-2852aef85125" type="radio">
</input><label class="sd-tab-label" for="c8a60ca1-b914-4e1e-ad14-0b5dbbc1103c">
table</label><div class="sd-tab-content docutils">
<p class="sd-card-text">Click on the <code class="docutils literal notranslate"><span class="pre">table</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, enter the name of your table file.
If you don’t have a template, you can generate a blank table or a random table using the buttons in the Dialogue box.
<img alt="select table image" src="../../_images/select-table.gif" /></p>
</div>
<input id="9eef0aa6-5330-47c2-a677-4a893aee28c5" name="30dec81c-d03f-4bed-ba88-2852aef85125" type="radio">
</input><label class="sd-tab-label" for="9eef0aa6-5330-47c2-a677-4a893aee28c5">
template</label><div class="sd-tab-content docutils">
<p class="sd-card-text">Click on the <code class="docutils literal notranslate"><span class="pre">template</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, enter the name of your template file.</p>
<p class="sd-card-text">If you don’t have a template, a random subset of the data can be used to generate an initial reference volume from the GUI by selecting
one of the options in the <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">create</span> <span class="pre">a</span> <span class="pre">template</span></code> section, setting the desired number of particles and hitting <code class="docutils literal notranslate"><span class="pre">Average</span> <span class="pre">data</span></code>.</p>
<p class="sd-card-text"><img alt="create template image" src="../../_images/create-template.gif" /></p>
</div>
<input id="e9143336-86ec-4fdc-acea-ea65e8b274eb" name="30dec81c-d03f-4bed-ba88-2852aef85125" type="radio">
</input><label class="sd-tab-label" for="e9143336-86ec-4fdc-acea-ea65e8b274eb">
masks</label><div class="sd-tab-content docutils">
<p class="sd-card-text">Click on the <code class="docutils literal notranslate"><span class="pre">masks</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, you can enter up to four files</p>
<ul class="simple">
<li><p class="sd-card-text">an alignment mask</p></li>
<li><p class="sd-card-text">a classification mask</p></li>
<li><p class="sd-card-text">a Fourier mask for the template</p></li>
<li><p class="sd-card-text">a Fourier shell correlation mask</p></li>
</ul>
<p class="sd-card-text"><img alt="default masks image" src="../../_images/masks-default.gif" /></p>
<p class="sd-card-text">The <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">default</span> <span class="pre">masks</span></code> button will create masks covering the full extend of real space and fourier space for each mask automatically.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p class="sd-card-text">You can check that your mask properly covers your template using the <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">mask</span> <span class="pre">-&gt;</span> <span class="pre">overlay</span> <span class="pre">x/y/z</span></code> menu options.</p>
</div>
</aside>
<p class="sd-card-text">The alignment mask defines a masked region of real space in which cross correlations used for alignments will be calculated.
The classification mask defines a masked region of real space in which cross correlations used for classification will be calculated.
The Fourier mask for the template defines the region of Fourier space in which you have information in your template (reference) volume.
The Fourier shell correlation mask defines a masked region of real space in which Fourier shell calculations will be calculated.</p>
<p class="sd-card-text">Each mask can be created from the GUI directly, or an external mask can be provided. The classification mask and the Fourier shell correlation mask are not
relevant for simple, single reference alignment projects such as the one we are setting up.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="alignment-parameters">
<h3>Alignment parameters<a class="headerlink" href="#alignment-parameters" title="Permalink to this headline">#</a></h3>
<p>From the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI click <code class="docutils literal notranslate"><span class="pre">numerical</span> <span class="pre">parameters</span></code> in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">settings</span></code> row. This will open up a separate window in which many parameters relating to the numerical aspects of your alignments can be defined.</p>
<a class="reference internal image-reference" href="../../_images/numerical-params.png"><img alt="../../_images/numerical-params.png" src="../../_images/numerical-params.png" style="width: 600px;" /></a>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You should think carefully about how much you allow particles to move during an iterative alignment experiment. Particles have a tendency to ‘wander off’ in low SNR environments, restricting the evolution of shifts appropriately (<code class="docutils literal notranslate"><span class="pre">shift</span> <span class="pre">limiting</span> <span class="pre">way</span></code> 3 or 4) can reduce this problem.</p>
<p>If your angular parameters come from a geometrical model, restricting angular searches ensures the particles do not deviate too much from initial estimates.</p>
</div>
<p>Key info:</p>
<ul class="simple">
<li><p>Hit <code class="docutils literal notranslate"><span class="pre">alt</span></code> on your keyboard or the <code class="docutils literal notranslate"><span class="pre">?</span></code> button for more info on a parameter</p></li>
<li><p>Alignment projects can be split up into rounds with different alignment parameters</p></li>
<li><p>Each round can have an arbitrary number of iterations</p></li>
<li><p>Each round employs a multilevel refinement <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Multilevel_refinement">angular sampling scheme</a></p></li>
<li><p>High and low pass thresholds (in Fourier pixels) define which spatial frequencies are aligned</p></li>
<li><p>Shifts are x, y, z shifts in the reference frame of each experimental particle</p></li>
<li><p>The evolution of particle positions can be restricted using the <code class="docutils literal notranslate"><span class="pre">shift</span> <span class="pre">limiting</span> <span class="pre">way</span></code> option.</p></li>
</ul>
<p>You can get a depiction of your current angular search parameters from the <code class="docutils literal notranslate"><span class="pre">Angles</span> <span class="pre">-&gt;</span> <span class="pre">Show</span> <span class="pre">sketch</span> <span class="pre">of</span> <span class="pre">scanning</span> <span class="pre">angles</span> <span class="pre">-&gt;</span> <span class="pre">Round</span> <span class="pre">X</span></code> menu options.</p>
<p><img alt="scanning angles image" src="../../_images/scanning-angles.gif" /></p>
</section>
<section id="computational-parameters">
<h3>Computational parameters<a class="headerlink" href="#computational-parameters" title="Permalink to this headline">#</a></h3>
<p>Computational parameters are used to tell the projects what it needs to know about the computing environment where it will be run.</p>
<p>Click <code class="docutils literal notranslate"><span class="pre">computing</span> <span class="pre">environment</span></code> from the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI, a new window will open in which parameters can be edited.</p>
<section id="hardware">
<h4>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">#</a></h4>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Running projects in the <code class="docutils literal notranslate"><span class="pre">standalone</span></code> modus leaves your <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> shell free for designing projects, making masks and performing other analyses.</p>
</div>
</aside>
<p>First, choose the hardware on which you will be running your alignment project. We typically use <code class="docutils literal notranslate"><span class="pre">GPU</span> <span class="pre">(standalone)</span></code>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If running in a GPU modus, you should use only one CPU core in this box!</p>
</div>
<section id="optional-specifying-gpus">
<h5>(optional) specifying GPUs<a class="headerlink" href="#optional-specifying-gpus" title="Permalink to this headline">#</a></h5>
<p>Specify the GPU identifiers for GPUs you would like to use for alignment. These are typically enumerated from 0.</p>
<p>e.g. for a 4 GPU system, set this to <code class="docutils literal notranslate"><span class="pre">0,1,2,3</span></code></p>
<p>Leave the motor as <code class="docutils literal notranslate"><span class="pre">spp</span></code> (this stands for sub-pixel precision).</p>
</section>
</section>
<section id="mpi">
<h4>MPI<a class="headerlink" href="#mpi" title="Permalink to this headline">#</a></h4>
<p>This section can be used to select a cluster submission script which works with your system. More info <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/MPI_Cluster">here</a>.</p>
</section>
<section id="parallelized-averaging-step">
<h4>Parallelized averaging step<a class="headerlink" href="#parallelized-averaging-step" title="Permalink to this headline">#</a></h4>
<p>This section allows a user to specify how many cores they would like to use for the ‘averaging’ step between each iteration of subtomogram averaging.
This should be set to the number of logical (not hyperthreaded) cores available on the system used for executing the project.</p>
</section>
</section>
</section>
<section id="unfolding-the-project">
<h2>Unfolding the project<a class="headerlink" href="#unfolding-the-project" title="Permalink to this headline">#</a></h2>
<p>Unfolding a project means getting it ready to run on your system. If executing on a remote system, the project should be unfolded on that system.</p>
<p>To unfold a project, first hit <code class="docutils literal notranslate"><span class="pre">check</span></code>, then <code class="docutils literal notranslate"><span class="pre">unfold</span></code> from the control section of the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI.</p>
<p>This will create a file <code class="docutils literal notranslate"><span class="pre">&lt;my_new_project&gt;.exe</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;my_new_project.m&gt;</span></code> depending on whether the project will run in the standalone or the <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> environment.</p>
</section>
<section id="running-the-project">
<h2>Running the project<a class="headerlink" href="#running-the-project" title="Permalink to this headline">#</a></h2>
<p>If running a project in the <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> modus, just type this in your <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> shell:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="nb">run</span><span class="w"> </span><span class="o">&lt;</span><span class="n">my_new_project</span><span class="o">&gt;</span><span class="p">.</span><span class="n">m</span>`<span class="w"> </span>
</pre></div>
</div>
<p>If running using the <code class="docutils literal notranslate"><span class="pre">standalone</span></code>, you first have to activate <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> in the shell. Usually this is achieved by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> /path/to/dynamo/installation/dynamo_activate_linux_shipped_MCR.sh

./&lt;my_new_project&gt;.exe
</pre></div>
</div>
</section>
<section id="looking-at-the-results">
<h2>Looking at the results<a class="headerlink" href="#looking-at-the-results" title="Permalink to this headline">#</a></h2>
<p>Hitting the <code class="docutils literal notranslate"><span class="pre">show</span></code> button from the <code class="docutils literal notranslate"><span class="pre">Results</span></code> row of the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI opens up a new window for looking at the results of an alignment project.</p>
<p>Hitting the <code class="docutils literal notranslate"><span class="pre">progress</span></code> button will tell you the current status of the alignment project.</p>
<p>From the results GUI, averages and associated particle metadata can be visualised in various tools. You can also open your maps directly in other packages such as <code class="docutils literal notranslate"><span class="pre">ChimeraX</span></code>.</p>
<p>Visualising particle positions and orientations can also be useful to check that an alignment procedure is behaving as you expect.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./mini-tutorials/dynamo"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Dynamo</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="extract-from-catalogue.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Extracting particles</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By the teamtomo.org contributors<br/>
  
      &copy; Copyright 2021.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>